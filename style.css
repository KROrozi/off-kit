@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@900&display=swap');

body, html {
    margin: 0; padding: 0; width: 100%; height: 100%;
    font-family: 'Noto Sans KR', sans-serif;
    color: white; overflow: hidden; user-select: none;
}

/* --- 날짜별 카운터 --- */
#daily-counter-container { 
    position: absolute; top: 35px; left: 40px; z-index: 100;
    font-family: Arial, sans-serif; font-weight: bold; font-size: 1.1rem;
    color: white; 
    display: flex;
    flex-direction: column;
    gap: 4px; 
}

.daily-count-item {
    white-space: nowrap;
}

/* --- 페이지 슬라이드 (4단) --- */
.page-wrapper {
    width: 400%; height: 100%; display: flex;
    transition: transform 0.5s ease-in-out;
}

body.show-throw .page-wrapper { transform: translateX(-25%); }
body.show-press .page-wrapper { transform: translateX(-50%); }
body.show-touch .page-wrapper { transform: translateX(-75%); }
.page { width: 25%; height: 100%; flex-shrink: 0; }

/* 페이지별 배경색 */
#page-spin { background-color: #FE9999; }
#page-throw { background-color: #BAEE44; }
#page-press { background-color: #E2DBC7; }
#page-touch { background-color: #1E1E1E; }

#page-throw rect { fill: #D1F26D; }
#page-throw svg > path { fill: white; }
#page-press .background-text { color: rgba(255, 255, 255, 0.7); }

/* 'THROW' 텍스트만 폰트 크기 작게 설정 */
#page-throw .background-text {
    font-size: 18vw; 
}
#page-press .background-text {
    font-size: 18vw; 
}
#page-touch .background-text {
    font-size: 18vw; 
}


/* --- 공통 레이아웃 --- */
.container {
    display: flex; flex-direction: column; justify-content: center;
    align-items: center; width: 100%; height: 100%; position: relative;
}
header {
    position: absolute; top: 30px; width: 90%;
    display: flex; flex-direction: column; align-items: center; z-index: 10;
}
.title { font-size: 1.2rem; font-weight: bold; margin: 0; }
.logo {
    position: absolute; top: 0; right: 0;
    color: white; 
    transition: color 0.5s ease-in-out;
}
.logo svg {
    width: 136px;
    height: 30px;
    fill: currentColor; 
}
.counter { font-size: 3rem; font-weight: bold; margin: 10px 0 0 0; line-height: 1; }
main {
    display: flex; justify-content: center; align-items: center;
    position: relative; width: 100%; height: 100%;
}
.background-text {
    position: absolute;
    font-size: 25vw; /* 기본 폰트 크기 */
    font-weight: 900;
    color: rgba(255, 255, 255, 0.5); z-index: 1; letter-spacing: 0.1em;
    font-family: 'Montserrat Alternates', sans-serif; 
}
.rotatable, .throwable {
    position: absolute; z-index: 5; cursor: grab; display: flex;
    justify-content: center; align-items: center; transform-origin: center center;
}
.rotatable:active, .throwable:active { cursor: grabbing; }
.rotatable svg, .throwable svg { width: 100%; height: 100%; }

/* 인터랙션 요소 크기 */
#clip-container { width: 420px; height: 300px; top: 50%; left: 50%; }
#ruler-container { width: 420px; height: 300px; top: 50%; left: 50%; }

.arrow {
    position: absolute; top: 50%; transform: translateY(-50%) scale(1.5, 2);
    color: rgba(255, 255, 255, 0.8); cursor: pointer; z-index: 20;
}
.arrow.left { left: 40px; }
.arrow.right { right: 40px; }

@keyframes slow-rotate {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(360deg); }
}
.idle-animation {
    animation: slow-rotate 20s linear infinite; 
}

/* --- 3페이지: 볼펜 누르기 스타일 (수정됨) --- */
#pen-container {
    position: absolute;
    width: 220px; /* 수정: 볼펜 크기 확대 */
    height: 100%; /* 수정: 바닥에 닿도록 높이 100% */
    bottom: 0; left: 50%;
    transform: translateX(-50%);
    cursor: pointer; display: flex; justify-content: center;
    align-items: flex-end; z-index: 5;
}
#pen-container svg {
    position: absolute; bottom: 0;
    width: 100%; height: 100%;
    opacity: 0; transition: opacity 0.05s ease-out;
}
#pen-container svg.active {
    opacity: 1;
}

/* --- 4페이지: 터치 인터랙션 스타일 --- */
#touch-grid {
    position: absolute;
    width: 80%; 
    height: 40%; 
    z-index: 5;
}
.touch-point {
    position: absolute;
    width: 10%; 
    padding-bottom: 10%; 
    cursor: pointer; transform: translate(-50%, -50%);
}
.touch-point .circle, .touch-point .popped-shape {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    transition: transform 0.1s ease-out, opacity 0.1s ease-out;
}
.touch-point .circle { background-color: white; border-radius: 50%; }
.touch-point .popped-shape { opacity: 0; transform: scale(0.5); }
.touch-point.popped .circle { transform: scale(0); opacity: 0; }
.touch-point.popped .popped-shape { opacity: 1; transform: scale(1); }

/* --- 파티클 효과 스타일 --- */
.particle {
    position: absolute; top: 50%; left: 50%;
    width: 12px; height: 12px;
    background: white; border-radius: 50%;
    animation: explode 0.5s ease-out forwards;
}
@keyframes explode {
    0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    100% { transform: translate(var(--x), var(--y)) scale(0); opacity: 0; }
}
